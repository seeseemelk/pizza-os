/*
 * mem.c
 *
 *  Created on: Jan 3, 2018
 *      Author: seeseemelk
 */
#include "mem.h"
#include "cdefs.h"
#include "kernel.h"
#include "page.h"

#include <string.h>
#include <stdio.h>
#include <stdbool.h>

/*#define PAGE_SIZE KB(4) - sizeof(size_t)

typedef struct mem_page mem_page;
struct mem_page
{
	size_t size;
	u8 data[PAGE_SIZE];
};

mem_page* mem_base;
size_t mem_length;*/

//#define PAGE_SIZE KB(4)

void* mem_map;
size_t map_entries;

size_t mem_init(size_t memory_size)
{
	// We split the map into enough entries so that the entire page table fits inside it.
	map_entries = (memory_size / PAGE_SIZE);
	return map_entries * sizeof(size_t);
}




















